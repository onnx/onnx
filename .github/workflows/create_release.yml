
# Copyright (c) ONNX Project Contributors
#
# SPDX-License-Identifier: Apache-2.0

name: Caller Workflow
on: 
  schedule:
    # Run weekly on Monday 00:00
    - cron:  '00 00 * * MON'
  push:
    branches: [main, rel-*]
  pull_request:
    branches: [main, rel-*]
  workflow_dispatch:    

jobs: 

  call-workflow-ubuntu_x86:    
    strategy:
      matrix:
        os: ['ubuntu-latest']    
    uses: ./.github/workflows/release_linux_x86_64.yml   
    with:            
      os: "linux_x86_64" 

  call-workflow-ubuntu_aarch64:    
    strategy:
      matrix:
        os: ['ubuntu-latest']    
    uses: ./.github/workflows/release_linux_aarch64.yml
    with:            
      os: "linux_aarch64"      

  call-workflow-win:    
    strategy:
      matrix:
        os: ['windows-latest']    
    uses: ./.github/workflows/release_win_x86_64.yml
    with:      
      os: "win"      

  call-workflow-mac:    
    strategy:
      matrix:
        os: ['mac-latest']    
    uses: ./.github/workflows/release_mac.yml
    with:            
      os: "mac"   