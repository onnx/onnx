os: linux
dist: trusty
sudo: required
language: cpp
compiler: gcc

addons:
  apt:
    packages:
      - dos2unix

env:
  global:
    - PB_VERSION=2.6.1
  matrix:
    - USE_NINJA=false
    - USE_NINJA=true
    - ONNX_ML=1 USE_NINJA=false
    - ONNX_ML=1 USE_NINJA=true

matrix:
  include:
    - os: osx
      osx_image: xcode8.3
      compiler: clang

cache:
  - directories:
    - $HOME/.build_cache
    - $HOME/.ccache

install:
  - ./.travis/install.sh

script:
  - ./.travis/build.sh
